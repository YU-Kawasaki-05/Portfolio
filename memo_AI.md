# AI並行作業分担計画メモ

## 現在の進捗状況（2025-07-18）

### 完了済み主要フェーズ
- ✅ Phase 0-4: 基盤構築・デザインシステム・メインページ・アニメーション・最適化
- ✅ Phase 4.5: データアーキテクチャリファクタリング 
- ✅ Phase 5.1-5.3: テスト環境セットアップ・コアコンポーネントテスト・機能コンポーネントテスト
- ✅ Phase 5.7: CI/CD・カバレッジ（550-551完了）
- ✅ Phase 5.8: ディレクトリリファクタリング準備
- ✅ Phase 5.9: Feature-Based Architecture Migration（全Phase完了: 5B6-5B9含む）

### 残り未完了タスク（24個）

## 【第1段階】- 独立並行作業

### AI-1担当: UI/Storybook テスト系
```
521 → 522 → 540 → 541
```
- **521**: `ui/card.tsx` のユニットテスト作成（コンポーネント構成）
- **522**: `ui/badge.tsx` のユニットテスト作成（バリアント表示）
- **540**: Storybook: 全UI コンポーネントのストーリー作成
- **541**: Storybook: アクセシビリティテスト（a11y addon）の設定

### AI-2担当: 重要統合テスト系
```
900 → 901 → 902 → 903 → 904 → 905 → 906 → 907
```
- **900**: データソース統合テスト：Works/Blog データの整合性確認
- **901**: ページルーティングテスト：全ページアクセス可能性確認  
- **902**: レスポンシブデザインテスト：モバイル/デスクトップ表示確認
- **903**: アクセシビリティテスト：基本的なa11y要件確認
- **904**: API統合テスト：note.com RSS取得の動作確認
- **905**: Core Web Vitals測定：LCP, FID, CLS基準値クリア確認
- **906**: 3Dコンポーネント負荷テスト：Hero3Dのメモリリーク確認
- **907**: バンドルサイズ分析：初期ロード時間の最適化確認

## 【第2段階】- 最終検証（連携必要）

### AI-1: クリーンアップ作業
```
5D4 → 5D5 → 5D6 → 5D7 → 5E4 → 5E5
```
- **5D4**: 古い `src/components/` ディレクトリを削除
- **5D5**: 古い `src/data/` ディレクトリを削除  
- **5D6**: 古い `src/services/` ディレクトリを削除
- **5D7**: 古い `tests/unit/` ディレクトリを削除（テストは各feature内に移行済み）
- **5E4**: 新ディレクトリ構成ドキュメントの最終化
- **5E5**: リファクタリング完了のコミット・プッシュ

### AI-2: 動作検証 + エラーテスト
```
5D8 → 5D9 → 5E0 → 5E1 → 5E2 → 5E3 → 908 → 909 → 910
```
- **5D8**: 全ページの動作確認（`pnpm dev` でサイト全体をテスト）
- **5D9**: 全テストの実行確認（`pnpm test` で全feature統合テスト）
- **5E0**: Storybook の動作確認（`pnpm storybook` で全ストーリー表示）
- **5E1**: E2E テストの実行確認（`pnpm test:e2e` で主要フロー確認）
- **5E2**: ビルド確認（`pnpm build` でプロダクションビルド成功）
- **5E3**: パフォーマンステスト（Lighthouse スコア維持確認）
- **908**: 404エラーページテスト：存在しないルートのエラーハンドリング
- **909**: データ取得失敗テスト：外部API障害時の表示確認
- **910**: 3Dレンダリング失敗テスト：WebGL未対応環境での fallback 確認

## 【第3段階】- デプロイメント（順次実行）

### AI-1が第2段階完了後
```
600 → 601 → 602 → 603 → 604
```
- **600**: Vercel プロジェクトを作成し Production URL を取得
- **601**: `NEXT_PUBLIC_SITE_URL` などの環境変数を設定
- **602**: Vercel Analytics（Speed Insights, Web Vitals）を有効化
- **603**: PWA 対応（マニフェスト、Service Worker）を行い Audit 90+ を確認
- **604**: README を最終化し、`v1.0.0` タグを打ってリリース

## 作業のポイント

### 並行作業時の注意事項
- 第1段階は完全に独立したタスクなので、同時進行可能
- 第2段階では AI-2 の動作検証結果を AI-1 が確認してからクリーンアップ実行
- 全テスト通過確認後に旧ディレクトリ削除を実行すること

### 依存関係
- AI-1のStorybookテスト（540-541）は AI-2の統合テスト（900-907）と独立
- AI-2の動作検証（5D8-5E3）完了確認後に AI-1のクリーンアップ（5D4-5D7）実行
- 最終的にすべてのテストが通過してからデプロイメント開始

### 完了見込み
- 第1段階: 各AI 4-8タスク（1-2時間）
- 第2段階: 各AI 6-9タスク（2-3時間）  
- 第3段階: 5タスク（1時間）
- **総計**: 約4-6時間でプロジェクト完了予定

### ブランチ管理
- 現在のブランチ: `feature/directory-refactor`
- 最終マージ先: `main`
- リリース後タグ: `v1.0.0`